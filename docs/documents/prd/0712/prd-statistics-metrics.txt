# 통계 및 메트릭 수집 시스템 PRD

## 1. 목적 및 개요
- 실시간 통계 정보 수집 및 제공
- 시스템 메트릭 모니터링
- 비즈니스 지표 대시보드

## 2. 상세 요구사항
- 리포트 관련 통계 수집 및 계산
- 사용자 활동 통계 추적
- AI 분석 성공률 및 성능 지표
- 실시간 대시보드 데이터 제공
- 통계 데이터 캐싱 및 최적화

## 3. 동작 플로우
1. 각종 이벤트 발생 시 메트릭 수집
2. 배치 작업을 통한 정기적 통계 계산
3. 캐시를 통한 빠른 조회 서비스
4. API를 통한 실시간 데이터 제공

## 4. 예외/에러 처리
- 데이터 수집 실패, 계산 오류, 캐시 문제 등

## 5. 구현 상태 및 미구현/임시 구현 현황
### ✅ 구현 완료
- StatisticsService 기본 구조
- 기본적인 통계 조회 메서드 일부

### ❌ 미구현/임시 구현
- **AiRoutingController**: 실제 통계 정보 수집 로직 미구현
  - `// TODO: 실제 통계 정보 수집 로직 추가`
- **AlertController**: 실제 통계 구현 미완료
  - `// TODO: 실제 통계 구현`
- **StatisticsService**: Placeholder 로직 사용 중
  - `// For now, returning a placeholder`
  - 가정값 사용: `Math.round(getTotalReports() * 0.2); // Assume 20% pending`
- 실시간 메트릭 수집 시스템 미구축
- 통계 데이터 집계 알고리즘 미구현
- 대시보드 UI 및 API 미완성
- 배치 작업 스케줄링 미구현
- 캐싱 전략 및 성능 최적화 미완료
- 비즈니스 지표 정의 및 계산 로직 미완성

## 6. 참고/비고
- 대용량 데이터 처리를 위한 최적화 필요
- 실시간성과 정확성 간의 균형 고려 필요
- 현재 대부분의 통계 로직이 placeholder 상태로 실제 구현 시급