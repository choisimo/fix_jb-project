# ë¹Œë“œ/ì»´íŒŒì¼ ì˜¤ë¥˜ í•´ê²° PRD

## 1. ëª©ì  ë° ê°œìš”
- í˜„ì¬ í”„ë¡œì íŠ¸ì˜ 54ê°œ ì»´íŒŒì¼ ì˜¤ë¥˜ ì™„ì „ í•´ê²°
- íŒ¨í‚¤ì§€ êµ¬ì¡° í†µì¼ ë° ì˜ì¡´ì„± ì •ë¦¬
- ì•ˆì •ì ì¸ ë¹Œë“œ ì‹œìŠ¤í…œ êµ¬ì¶•

## 2. í˜„ì¬ ë¹Œë“œ ì˜¤ë¥˜ ë¶„ì„

### ğŸ”´ Critical ë¹Œë“œ ì´ìŠˆ

#### 2.1 íŒ¨í‚¤ì§€ êµ¬ì¡° ë¶ˆì¼ì¹˜
**í˜„ì¬ ìƒíƒœ:**
```
âŒ í˜¼ì¬ëœ íŒ¨í‚¤ì§€ êµ¬ì¡°:
- com.jbreport.platform.*     (ì˜¤ë˜ëœ êµ¬ì¡°)
- com.jeonbuk.report.*        (ìƒˆë¡œìš´ êµ¬ì¡°)
```

**ì˜¤ë¥˜ ì˜ˆì‹œ:**
```java
// AlertController.java:4
import com.jbreport.platform.entity.Alert;  // âŒ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŒ¨í‚¤ì§€

// ì‹¤ì œ ìœ„ì¹˜
import com.jeonbuk.report.domain.entity.Alert;  // âœ… ì˜¬ë°”ë¥¸ ê²½ë¡œ
```

**ì˜í–¥ë²”ìœ„:** 54ê°œ ì»´íŒŒì¼ ì˜¤ë¥˜, ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ë¶ˆê°€

#### 2.2 ì—”í‹°í‹° í´ë˜ìŠ¤ Import ì‹¤íŒ¨
**í˜„ì¬ ì˜¤ë¥˜:**
```bash
error: package com.jbreport.platform.entity does not exist
import com.jbreport.platform.entity.Alert;
error: package com.jbreport.platform.entity does not exist  
import com.jbreport.platform.entity.User;
error: package com.jbreport.platform.exception does not exist
import com.jbreport.platform.exception.ResourceNotFoundException;
```

**ì›ì¸:** 
- ì—”í‹°í‹° í´ë˜ìŠ¤ë“¤ì´ `com.jeonbuk.report.domain.entity` íŒ¨í‚¤ì§€ì— ì‹¤ì œ ì¡´ì¬
- ì»¨íŠ¸ë¡¤ëŸ¬/ì„œë¹„ìŠ¤ì—ì„œ ì˜ëª»ëœ íŒ¨í‚¤ì§€ ê²½ë¡œë¡œ import ì‹œë„

#### 2.3 ì˜ì¡´ì„± ëˆ„ë½ ë° ì¶©ëŒ
**í˜„ì¬ ì´ìŠˆ:**
- JPA Criteria API import ì‹¤íŒ¨
- MockMvc í…ŒìŠ¤íŠ¸ ì˜ì¡´ì„± ëˆ„ë½
- Spring Security OAuth2 ì„¤ì • ë¶ˆì¼ì¹˜

## 3. í•´ê²° ê³„íš ë° êµ¬í˜„ ìš”êµ¬ì‚¬í•­

### ğŸ“‹ Phase 1: íŒ¨í‚¤ì§€ êµ¬ì¡° í†µì¼ (1ì¼)

#### 3.1 ì „ì²´ íŒ¨í‚¤ì§€ êµ¬ì¡° ì¬ì •ì˜
**ëª©í‘œ:** ëª¨ë“  Java í´ë˜ìŠ¤ë¥¼ ì¼ê´€ëœ íŒ¨í‚¤ì§€ êµ¬ì¡°ë¡œ í†µì¼

**ìƒˆë¡œìš´ íŒ¨í‚¤ì§€ êµ¬ì¡°:**
```
com.jeonbuk.report
â”œâ”€â”€ JeonbukReportApplication.java           # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ application/                            # ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆì´ì–´
â”‚   â”œâ”€â”€ service/                           # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ AlertService.java
â”‚   â”‚   â”œâ”€â”€ ReportService.java
â”‚   â”‚   â”œâ”€â”€ UserService.java
â”‚   â”‚   â”œâ”€â”€ FileService.java
â”‚   â”‚   â””â”€â”€ IntegratedAiAgentService.java
â”‚   â””â”€â”€ dto/                               # ë°ì´í„° ì „ì†¡ ê°ì²´
â”‚       â”œâ”€â”€ AlertDTO.java
â”‚       â”œâ”€â”€ ReportDTO.java
â”‚       â””â”€â”€ UserDTO.java
â”œâ”€â”€ domain/                                # ë„ë©”ì¸ ë ˆì´ì–´
â”‚   â”œâ”€â”€ entity/                           # JPA ì—”í‹°í‹°
â”‚   â”‚   â”œâ”€â”€ Alert.java
â”‚   â”‚   â”œâ”€â”€ Report.java
â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”œâ”€â”€ ReportFile.java
â”‚   â”‚   â””â”€â”€ Comment.java
â”‚   â””â”€â”€ repository/                       # ë°ì´í„° ì ‘ê·¼
â”‚       â”œâ”€â”€ AlertRepository.java
â”‚       â”œâ”€â”€ ReportRepository.java
â”‚       â””â”€â”€ UserRepository.java
â”œâ”€â”€ infrastructure/                        # ì¸í”„ë¼ ë ˆì´ì–´
â”‚   â”œâ”€â”€ external/                         # ì™¸ë¶€ API ì—°ë™
â”‚   â”‚   â”œâ”€â”€ roboflow/
â”‚   â”‚   â””â”€â”€ openrouter/
â”‚   â”œâ”€â”€ kafka/                           # ë©”ì‹œì§•
â”‚   â””â”€â”€ config/                          # ì„¤ì •
â”œâ”€â”€ presentation/                          # í”„ë ˆì  í…Œì´ì…˜ ë ˆì´ì–´
â”‚   â”œâ”€â”€ controller/                       # REST ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”‚   â”œâ”€â”€ AlertController.java
â”‚   â”‚   â”œâ”€â”€ ReportController.java
â”‚   â”‚   â””â”€â”€ UserController.java
â”‚   â””â”€â”€ security/                        # ë³´ì•ˆ ì„¤ì •
â””â”€â”€ common/                               # ê³µí†µ ìœ í‹¸ë¦¬í‹°
    â”œâ”€â”€ exception/                       # ì˜ˆì™¸ ì²˜ë¦¬
    â””â”€â”€ util/                           # ìœ í‹¸ë¦¬í‹°
```

#### 3.2 íŒ¨í‚¤ì§€ ì´ì „ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
**ìë™í™” ìŠ¤í¬ë¦½íŠ¸:**
```bash
#!/bin/bash
# package-migration.sh

echo "Starting package structure migration..."

# 1. ê¸°ì¡´ ì˜ëª»ëœ íŒ¨í‚¤ì§€ ê²½ë¡œ ì°¾ê¸°
find src/main/java -name "*.java" -exec grep -l "com.jbreport.platform" {} \; > files_to_fix.txt

# 2. íŒ¨í‚¤ì§€ ì„ ì–¸ ìˆ˜ì •
sed -i 's/package com\.jbreport\.platform\./package com.jeonbuk.report./g' $(cat files_to_fix.txt)

# 3. import ë¬¸ ìˆ˜ì •
sed -i 's/import com\.jbreport\.platform\./import com.jeonbuk.report./g' src/main/java/**/*.java

# 4. íŠ¹ì • íŒ¨í‚¤ì§€ ê²½ë¡œ ìˆ˜ì •
sed -i 's/com\.jbreport\.platform\.entity/com.jeonbuk.report.domain.entity/g' src/main/java/**/*.java
sed -i 's/com\.jbreport\.platform\.service/com.jeonbuk.report.application.service/g' src/main/java/**/*.java
sed -i 's/com\.jbreport\.platform\.controller/com.jeonbuk.report.presentation.controller/g' src/main/java/**/*.java
sed -i 's/com\.jbreport\.platform\.repository/com.jeonbuk.report.domain.repository/g' src/main/java/**/*.java
sed -i 's/com\.jbreport\.platform\.exception/com.jeonbuk.report.common.exception/g' src/main/java/**/*.java

echo "Package migration completed!"
```

#### 3.3 ìˆ˜ë™ ìˆ˜ì •ì´ í•„ìš”í•œ íŒŒì¼ë“¤
**AlertController.java ìˆ˜ì •:**
```java
// âŒ ê¸°ì¡´ ì½”ë“œ
package com.jbreport.platform.controller;
import com.jbreport.platform.entity.Alert;

// âœ… ìˆ˜ì •ëœ ì½”ë“œ
package com.jeonbuk.report.presentation.controller;
import com.jeonbuk.report.domain.entity.Alert;
import com.jeonbuk.report.application.service.AlertService;
import com.jeonbuk.report.application.dto.AlertDTO;
```

**AlertService.java ìˆ˜ì •:**
```java
// âŒ ê¸°ì¡´ ì½”ë“œ
package com.jbreport.platform.service;
import com.jbreport.platform.entity.Alert;
import com.jbreport.platform.entity.User;
import com.jbreport.platform.exception.ResourceNotFoundException;

// âœ… ìˆ˜ì •ëœ ì½”ë“œ
package com.jeonbuk.report.application.service;
import com.jeonbuk.report.domain.entity.Alert;
import com.jeonbuk.report.domain.entity.User;
import com.jeonbuk.report.common.exception.ResourceNotFoundException;
import com.jeonbuk.report.domain.repository.AlertRepository;
import com.jeonbuk.report.domain.repository.UserRepository;
```

### ğŸ“‹ Phase 2: ëˆ„ë½ëœ í´ë˜ìŠ¤ ìƒì„± (ë°˜ë‚˜ì ˆ)

#### 2.1 ì˜ˆì™¸ í´ë˜ìŠ¤ ìƒì„±
**ResourceNotFoundException.java:**
```java
package com.jeonbuk.report.common.exception;

public class ResourceNotFoundException extends RuntimeException {
    
    public ResourceNotFoundException(String message) {
        super(message);
    }
    
    public ResourceNotFoundException(String message, Throwable cause) {
        super(message, cause);
    }
    
    public ResourceNotFoundException(String resource, String field, Object value) {
        super(String.format("%s not found with %s: %s", resource, field, value));
    }
}
```

#### 2.2 DTO í´ë˜ìŠ¤ ìƒì„±
**AlertDTO.java:**
```java
package com.jeonbuk.report.application.dto;

import lombok.Data;
import lombok.Builder;
import lombok.NoArgsConstructor;
import lombok.AllArgsConstructor;
import java.time.LocalDateTime;

@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
public class AlertDTO {
    private Long id;
    private String type;
    private String severity;
    private String title;
    private String message;
    private String targetUserId;
    private String referenceId;
    private String referenceType;
    private Boolean isRead;
    private LocalDateTime expiresAt;
    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;
}
```

**ReportDTO.java:**
```java
package com.jeonbuk.report.application.dto;

import lombok.Data;
import lombok.Builder;
import lombok.NoArgsConstructor;
import lombok.AllArgsConstructor;
import java.time.LocalDateTime;
import java.util.List;

@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
public class ReportDTO {
    private Long id;
    private String title;
    private String description;
    private String category;
    private String status;
    private String priority;
    private String location;
    private Double latitude;
    private Double longitude;
    private Long userId;
    private String userEmail;
    private List<ReportFileDTO> files;
    private List<CommentDTO> comments;
    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;
}
```

**ReportCreateDTO.java:**
```java
package com.jeonbuk.report.application.dto;

import lombok.Data;
import lombok.NoArgsConstructor;
import lombok.AllArgsConstructor;
import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.NotNull;
import jakarta.validation.constraints.Size;

@Data
@NoArgsConstructor
@AllArgsConstructor
public class ReportCreateDTO {
    
    @NotBlank(message = "ì œëª©ì€ í•„ìˆ˜ì…ë‹ˆë‹¤")
    @Size(max = 200, message = "ì œëª©ì€ 200ìë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
    private String title;
    
    @NotBlank(message = "ì„¤ëª…ì€ í•„ìˆ˜ì…ë‹ˆë‹¤")
    @Size(max = 2000, message = "ì„¤ëª…ì€ 2000ìë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
    private String description;
    
    @NotBlank(message = "ì¹´í…Œê³ ë¦¬ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤")
    private String category;
    
    @NotBlank(message = "ìœ„ì¹˜ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤")
    private String location;
    
    @NotNull(message = "ìœ„ë„ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤")
    private Double latitude;
    
    @NotNull(message = "ê²½ë„ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤")
    private Double longitude;
    
    private String priority = "MEDIUM";
}
```

#### 2.3 ëˆ„ë½ëœ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ ìƒì„±
**FileStorageService.java:**
```java
package com.jeonbuk.report.application.service;

import org.springframework.web.multipart.MultipartFile;
import org.springframework.stereotype.Service;
import org.springframework.beans.factory.annotation.Value;
import lombok.extern.slf4j.Slf4j;

import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.nio.file.StandardCopyOption;
import java.util.UUID;

@Slf4j
@Service
public class FileStorageService {
    
    @Value("${app.file.upload-dir:./uploads}")
    private String uploadDir;
    
    public String storeFile(MultipartFile file) {
        try {
            // ì—…ë¡œë“œ ë””ë ‰í† ë¦¬ ìƒì„±
            Path uploadPath = Paths.get(uploadDir);
            if (!Files.exists(uploadPath)) {
                Files.createDirectories(uploadPath);
            }
            
            // íŒŒì¼ëª… ìƒì„± (UUID + ì›ë³¸ í™•ì¥ì)
            String originalFilename = file.getOriginalFilename();
            String extension = originalFilename.substring(originalFilename.lastIndexOf("."));
            String filename = UUID.randomUUID().toString() + extension;
            
            // íŒŒì¼ ì €ì¥
            Path filePath = uploadPath.resolve(filename);
            Files.copy(file.getInputStream(), filePath, StandardCopyOption.REPLACE_EXISTING);
            
            log.info("File stored successfully: {}", filename);
            return filename;
            
        } catch (IOException e) {
            log.error("Failed to store file: {}", e.getMessage(), e);
            throw new RuntimeException("íŒŒì¼ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤", e);
        }
    }
    
    public Path loadFileAsResource(String filename) {
        try {
            Path filePath = Paths.get(uploadDir).resolve(filename).normalize();
            if (Files.exists(filePath)) {
                return filePath;
            } else {
                throw new RuntimeException("íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + filename);
            }
        } catch (Exception e) {
            throw new RuntimeException("íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: " + filename, e);
        }
    }
}
```

### ğŸ“‹ Phase 3: ì˜ì¡´ì„± ì •ë¦¬ (ë°˜ë‚˜ì ˆ)

#### 3.1 build.gradle ì˜ì¡´ì„± ìˆ˜ì •
```gradle
dependencies {
    // Spring Boot Starters
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    implementation 'org.springframework.boot:spring-boot-starter-security'
    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'
    implementation 'org.springframework.boot:spring-boot-starter-validation'
    implementation 'org.springframework.boot:spring-boot-starter-data-redis'
    implementation 'org.springframework.kafka:spring-kafka'
    
    // ë°ì´í„°ë² ì´ìŠ¤
    implementation 'org.postgresql:postgresql'
    implementation 'org.hibernate:hibernate-spatial:6.2.7.Final'
    
    // JWT
    implementation 'io.jsonwebtoken:jjwt-api:0.11.5'
    implementation 'io.jsonwebtoken:jjwt-impl:0.11.5'
    implementation 'io.jsonwebtoken:jjwt-jackson:0.11.5'
    
    // JSON ì²˜ë¦¬
    implementation 'com.fasterxml.jackson.core:jackson-databind'
    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'
    
    // ìœ í‹¸ë¦¬í‹°
    implementation 'org.apache.commons:commons-lang3'
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'
    
    // í…ŒìŠ¤íŠ¸
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation 'org.springframework.security:spring-security-test'
    testImplementation 'org.springframework.kafka:spring-kafka-test'
    testImplementation 'org.testcontainers:junit-jupiter'
    testImplementation 'org.testcontainers:postgresql'
}
```

#### 3.2 ëˆ„ë½ëœ Kafka ê´€ë ¨ í´ë˜ìŠ¤ ìƒì„±
**KafkaProducerService.java:**
```java
package com.jeonbuk.report.infrastructure.kafka;

import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.kafka.core.KafkaTemplate;
import org.springframework.stereotype.Service;

@Slf4j
@Service
@RequiredArgsConstructor
public class KafkaProducerService {
    
    private final KafkaTemplate<String, Object> kafkaTemplate;
    
    public void sendMessage(String topic, Object message) {
        try {
            kafkaTemplate.send(topic, message);
            log.info("Message sent to topic {}: {}", topic, message);
        } catch (Exception e) {
            log.error("Failed to send message to topic {}: {}", topic, e.getMessage(), e);
            throw new RuntimeException("ë©”ì‹œì§€ ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤", e);
        }
    }
    
    public void sendReportCreated(Long reportId) {
        sendMessage("report-created", reportId);
    }
    
    public void sendAnalysisRequest(Long reportId, String imageUrl) {
        AnalysisRequest request = new AnalysisRequest(reportId, imageUrl);
        sendMessage("analysis-requests", request);
    }
    
    public static class AnalysisRequest {
        private Long reportId;
        private String imageUrl;
        
        public AnalysisRequest(Long reportId, String imageUrl) {
            this.reportId = reportId;
            this.imageUrl = imageUrl;
        }
        
        // getters and setters
        public Long getReportId() { return reportId; }
        public void setReportId(Long reportId) { this.reportId = reportId; }
        public String getImageUrl() { return imageUrl; }
        public void setImageUrl(String imageUrl) { this.imageUrl = imageUrl; }
    }
}
```

### ğŸ“‹ Phase 4: ì»´íŒŒì¼ ê²€ì¦ ë° í…ŒìŠ¤íŠ¸ (ë°˜ë‚˜ì ˆ)

#### 4.1 ì»´íŒŒì¼ ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
```bash
#!/bin/bash
# build-verification.sh

echo "=== ë¹Œë“œ ê²€ì¦ ì‹œì‘ ==="

# 1. í´ë¦° ë¹Œë“œ
echo "1. í´ë¦° ë¹Œë“œ ì‹¤í–‰..."
./gradlew clean
if [ $? -ne 0 ]; then
    echo "âŒ í´ë¦° ë¹Œë“œ ì‹¤íŒ¨"
    exit 1
fi

# 2. ì»´íŒŒì¼ í™•ì¸
echo "2. ì»´íŒŒì¼ í™•ì¸..."
./gradlew compileJava
if [ $? -ne 0 ]; then
    echo "âŒ ì»´íŒŒì¼ ì‹¤íŒ¨"
    exit 1
fi

# 3. í…ŒìŠ¤íŠ¸ ì»´íŒŒì¼ í™•ì¸
echo "3. í…ŒìŠ¤íŠ¸ ì»´íŒŒì¼ í™•ì¸..."
./gradlew compileTestJava
if [ $? -ne 0 ]; then
    echo "âŒ í…ŒìŠ¤íŠ¸ ì»´íŒŒì¼ ì‹¤íŒ¨"
    exit 1
fi

# 4. íŒ¨í‚¤ì§€ êµ¬ì¡° ê²€ì¦
echo "4. íŒ¨í‚¤ì§€ êµ¬ì¡° ê²€ì¦..."
WRONG_PACKAGES=$(find src/main/java -name "*.java" -exec grep -l "com.jbreport.platform" {} \;)
if [ ! -z "$WRONG_PACKAGES" ]; then
    echo "âŒ ì˜ëª»ëœ íŒ¨í‚¤ì§€ êµ¬ì¡°ê°€ ë°œê²¬ë¨:"
    echo "$WRONG_PACKAGES"
    exit 1
fi

# 5. ë¹Œë“œ ì„±ê³µ
echo "5. ì „ì²´ ë¹Œë“œ..."
./gradlew build -x test
if [ $? -ne 0 ]; then
    echo "âŒ ë¹Œë“œ ì‹¤íŒ¨"
    exit 1
fi

echo "âœ… ëª¨ë“  ë¹Œë“œ ê²€ì¦ ì™„ë£Œ!"
```

#### 4.2 Import ê²€ì¦ í…ŒìŠ¤íŠ¸
```java
@SpringBootTest
class PackageStructureTest {
    
    @Test
    void shouldHaveCorrectPackageStructure() {
        // í•µì‹¬ í´ë˜ìŠ¤ë“¤ì´ ì˜¬ë°”ë¥¸ íŒ¨í‚¤ì§€ì— ìˆëŠ”ì§€ í™•ì¸
        assertDoesNotThrow(() -> {
            Class.forName("com.jeonbuk.report.domain.entity.Alert");
            Class.forName("com.jeonbuk.report.domain.entity.User");
            Class.forName("com.jeonbuk.report.domain.entity.Report");
            Class.forName("com.jeonbuk.report.application.service.AlertService");
            Class.forName("com.jeonbuk.report.presentation.controller.AlertController");
        });
    }
    
    @Test
    void shouldNotHaveOldPackageReferences() {
        // ì†ŒìŠ¤ ì½”ë“œì— ì´ì „ íŒ¨í‚¤ì§€ ì°¸ì¡°ê°€ ì—†ëŠ”ì§€ í™•ì¸
        Path srcPath = Paths.get("src/main/java");
        try (Stream<Path> paths = Files.walk(srcPath)) {
            paths.filter(path -> path.toString().endsWith(".java"))
                 .forEach(this::verifyNoOldPackageReferences);
        }
    }
    
    private void verifyNoOldPackageReferences(Path javaFile) {
        try {
            String content = Files.readString(javaFile);
            assertFalse(content.contains("com.jbreport.platform"), 
                "File " + javaFile + " contains old package reference");
        } catch (IOException e) {
            fail("Failed to read file: " + javaFile);
        }
    }
}
```

## 4. ë¹Œë“œ ìµœì í™”

### 4.1 Gradle ì„¤ì • ìµœì í™”
```gradle
// build.gradle
plugins {
    id 'org.springframework.boot' version '3.1.5'
    id 'io.spring.dependency-management' version '1.1.3'
    id 'java'
}

java {
    sourceCompatibility = '17'
}

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

// ë¹Œë“œ ì„±ëŠ¥ ìµœì í™”
tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
    options.compilerArgs += ['-Xlint:unchecked', '-Xlint:deprecation']
}

// í…ŒìŠ¤íŠ¸ ì„¤ì •
test {
    useJUnitPlatform()
    maxHeapSize = '1G'
    testLogging {
        events 'passed', 'skipped', 'failed'
    }
}

// Docker ë¹Œë“œë¥¼ ìœ„í•œ JAR ìµœì í™”
jar {
    enabled = false
    archiveClassifier = ''
}

bootJar {
    enabled = true
    archiveClassifier = ''
    layered {
        enabled = true
    }
}
```

### 4.2 IDE ì„¤ì • ìµœì í™”
**IntelliJ IDEA ì„¤ì • (.idea/compiler.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CompilerConfiguration">
    <annotationProcessing>
      <profile name="Gradle Imported" enabled="true">
        <outputRelativeToContentRoot value="true" />
        <processorPath useClasspath="false">
          <entry name="$USER_HOME$/.gradle/caches/modules-2/files-2.1/org.projectlombok/lombok/1.18.30/..." />
        </processorPath>
      </profile>
    </annotationProcessing>
    <bytecodeTargetLevel target="17" />
  </component>
</project>
```

## 5. ë°°í¬ ë¹Œë“œ ê²€ì¦

### 5.1 Docker ë¹Œë“œ í…ŒìŠ¤íŠ¸
```dockerfile
# Dockerfile (ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ)
FROM openjdk:17-jdk-slim as builder
WORKDIR /app
COPY gradlew .
COPY gradle gradle
COPY build.gradle .
COPY settings.gradle .
COPY src src
RUN chmod +x gradlew
RUN ./gradlew build -x test

FROM openjdk:17-jre-slim
WORKDIR /app
COPY --from=builder /app/build/libs/*.jar app.jar
ENTRYPOINT ["java", "-jar", "app.jar"]
```

### 5.2 CI/CD ë¹Œë“œ ê²€ì¦
```yaml
# .github/workflows/build-verification.yml
name: Build Verification
on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    
    - name: Set up JDK 17
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'temurin'
    
    - name: Cache Gradle packages
      uses: actions/cache@v3
      with:
        path: ~/.gradle/caches
        key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}
    
    - name: Verify package structure
      run: |
        if grep -r "com.jbreport.platform" src/main/java/; then
          echo "âŒ Old package structure found!"
          exit 1
        fi
        echo "âœ… Package structure verified!"
    
    - name: Compile and build
      run: ./gradlew build -x test
    
    - name: Run tests
      run: ./gradlew test
```

## 6. ì„±ê³µ ê¸°ì¤€ ë° ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… ì»´íŒŒì¼ ì„±ê³µ ìš”êµ¬ì‚¬í•­
- [ ] ì»´íŒŒì¼ ì˜¤ë¥˜ 0ê°œ
- [ ] ëª¨ë“  import ë¬¸ í•´ê²°
- [ ] íŒ¨í‚¤ì§€ êµ¬ì¡° ì¼ê´€ì„± í™•ë³´
- [ ] ëˆ„ë½ëœ í´ë˜ìŠ¤ ëª¨ë‘ ìƒì„±

### âœ… ë¹Œë“œ ì„±ê³µ ìš”êµ¬ì‚¬í•­
- [ ] `./gradlew clean build` ì„±ê³µ
- [ ] í…ŒìŠ¤íŠ¸ ì»´íŒŒì¼ ì„±ê³µ
- [ ] JAR íŒŒì¼ ìƒì„± ì„±ê³µ
- [ ] Docker ì´ë¯¸ì§€ ë¹Œë“œ ì„±ê³µ

### âœ… ì½”ë“œ í’ˆì§ˆ ìš”êµ¬ì‚¬í•­
- [ ] ì´ì „ íŒ¨í‚¤ì§€ ì°¸ì¡° 0ê°œ
- [ ] ì½”ë”© ì»¨ë²¤ì…˜ ì¤€ìˆ˜
- [ ] Javadoc ì£¼ì„ ì™„ì„±
- [ ] TODO/FIXME ì£¼ì„ ì •ë¦¬

ì´ PRDë¥¼ í†µí•´ ëª¨ë“  ì»´íŒŒì¼ ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ê³  ì•ˆì •ì ì¸ ë¹Œë“œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.